<div class="cart-area d-n">
  <a routerLink="/cart-details" class="cart-link">
    <div class="total">
      {{ totalPrice | currency: 'INR' : 'symbol-narrow'}}<span> {{ totalQuantity }} </span>
    </div>
    <i class="fa fa-cart-shopping cart-icon" aria-hidden="true"></i>
  </a>
  <!-- the totalPrice and totalQuantity values mentioned here are the values declared in cart-status-component.ts file -->
</div>




<!-- Actual flow of application (How is the cart status displayed - cart status is the total amount and number of all items present in the cart, displayed at top right corner of app) :  -->
    <!-- So basically we create a new component named cart-status component. We also create a new class cartItem that stores all elements present inside the cart. We then create a service named cartService that helps in calculating the total amount and quantity of all products prsent in the cart. So when the selector for cart-status component is reached in app-component.html file(<app-cart-status></app-cart-status>), the onInIt method of cart-status-componnt.ts gets executed. Inside this file, two local variables totalPrice and totalQuantity are defined. Then inside the oninit methos, a call is made to updateCartStatus methos, which subscribes to a cartService method declared in cart-service.ts file. Thus the actual values are then calculated inside cartService.ts files and published. Since we are sunscribing to cartService from csrt0status-component.ys file, we receive the published info and hence the totalPrice and totalQuantity get populated with rertuyrned info. These are then usd in cart-status-component.html file and rendered . Thus cart status gets updatd on main app. -->



<!-- Actual flow of application(what happens when we click add to cart button) :  -->
    <!-- When we click addt to cart button of any product, a call is made to a method named "addToCart" by passing in the product id og th product for ehich button was clicked. This methos is defines in product-list-component.ts file. As already mentioned, we have define a cartItem class. Inside thi8s method, a new cartItem object is created based on info of th product for which button was clicked. Thenm another method name addToCartHelper(), which is defined inside cartService.ts file is calld by passing in this created cartItem. Inside this methos, it is checked if this itm is already prsent in cart. If yes, its quantity is incrased by 1. If not it is added to a cartItems[] array. This array represents our cart6 for now(it is also dclared in cart-servic.ts file). This function then calculates th totalPrice and totalQuantity of the entire cart and published it. Since the cart-status-component (inside the cart-status-component.ts file), has subscribed to thsi info, this publishd info reachd the cart-status component, and is rendered on the main app suing cart-status-component.html file. Thus in short, whnever we add a product to cart, the cart status at top gets updated based on the product added. -->



<!-- Actual flow of application(how do we handle browser refresh and hoe does data added to cart before login persists after login or after broser window is closed and then reopened) : -->
    <!-- Uptil now, whenever we refreshed our browser, the data stord in cart used to get lost, and cart status used to get reset to 0. Also, if we add soem items to cart and then login, still the cart data used to get lost. To solve this, we use the concpt of storing data in our computer local storage. As soon as anything is added/removed from cart, we strore the updated cart in our computers local storage. Whenever the app is started, the cart-items-data present in our local storage is populated in the cart first and then we start using the app. while using, if we make any changes to cart, those are also updated in the cart-items copy present in local storage. To do so, we make changes to cart-service.ts file. There, inside the constructor itself, we read the cart data stored in local storage and populate the declared cart-items array with the read data. We also call the computeCartTotals() method once the cart-items array is populated(inside the constructor), so that the values of totalQuantity and totalPrice will get evaluated based on the data that as loaded into cart from local storage, and these updated values will be reflected in cvart-status. All of this happns inside the constructor before user starts browsing our app. e basically restore the contents of cart stored in local storage into this current session of our app. Then, outsid constyructor, we create a seperate persistCartItems() method inside which we save the updated cart-items array in the local storage.This methos gets called inside the computeCartTotals() mdhod. We know, whenever, w perform any opoeration on cart(like adding, rmoving, updating items in cart), we ultimately call the computeCartTotals() mdthod at end. Calling persistCartItems() method inside computeCartTotals() ensures that the latest state of the cart is stored in local storage, and can be used whenever browser-refresh or user login happens. Data stored in local storage can also be retreived if the broswser window is closed and the re opened(This ability to load stord data after browser window is closd sn ropened is provided by local storage only, not by session strorage. Ther the data i9s lost if broser window is closed. Hence to store cart data, we use local storage.) -->


<!-- Actual flow of application(how does cart status once the user checkouts successfullt, ie how does cart status get updated after order has been placed.) -->
    <!-- We need the cart to be reset to 0, once the order has been placd successfully. But since we are storing cart-data in local storage, it ill get loaded again after broser refresh or ven when we close the app and reopen it. To solve this, once th order is placed, e ned to clear the cart data from local storage, so that after placing an order th cart rests to 0, and user can start shopping again(with nothing present in his cart). The aim of storing cart data in local storage was to make cart data persist in case of browser refresh, or if the broser tab is closed an reopned again, ie basically to make sure cart data is not lost befor placving order due to occurance of any other acticity. But once order is placed successfully, we waht that existing cart data of local storage to vanish. To do so, we create an local storage instance in checkout-component.ts file, inside th resetcart() method(which gets called after order is placed), we remov the cartItems array from the local storage. Thus, after successful checkout(placing order), the cartdata present in local storage is removed.Normnal operation(next shopping instance) begins again. -->
